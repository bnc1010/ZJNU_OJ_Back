spring:
  datasource:
    username: ${MYSQL_USER:-root}
    password: ${MYSQL_PASSWORD:-1234}
    url: jdbc:mysql://${MYSQL_URL}?serverTimezone=GMT%2B8&useUnicode=yes&characterEncoding=UTF-8
    driver-class-name: com.mysql.cj.jdbc.Driver
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: false
    open-in-view: false
  thymeleaf:
    encoding: utf-8
    cache: false
    mode: HTML
    check-template: false
  config:
    additional-location: /config
  servlet:
    multipart:
      max-file-size: 3050MB
      max-request-size: 3050MB
  resources:
    cache:
      period: 2592000
    chain:
      cache: true
      compressed: true
      enabled: true
      strategy:
        content:
          enabled: true

logging:
  file:
    max-size: 50MB
    path: /onlinejudge/log
    max-history: 14
  level:
    cn.edu.zjnu.acm: INFO

onlinejudge:
  judgerhost:
    - ${JUDGER_SERVICE}
  #    - http://localhost:8001/judge
  #    - http://localhost:8002/judge
  #    - http://localhost:8003/judge
  #    - http://localhost:8004/judge
  #    - http://localhost:6000/judge
  c:
    src: main.c
    seccomp_rule: c_cpp
    run_command: ./main
    compile_command: /usr/bin/gcc -DONLINE_JUDGE -fno-tree-ch -O2 -Wall -std=c99 main.c -lm -o main
    memory_limit_check_only: 0
  cpp:
    src: main.cpp
    seccomp_rule: c_cpp
    run_command: ./main
    compile_command: /usr/bin/g++ -DONLINE_JUDGE -fno-tree-ch -O2 -Wall -std=c++14 main.cpp -lm -o main
    memory_limit_check_only: 0
  go:
    src: main.go
    compile_command: /usr/local/go/bin/go build main.go
    run_command: ./main
    memory_limit_check_only: 0
  java:
    src: Main.java
    run_command: /usr/bin/java -Djava.security.manager -Dfile.encoding=UTF-8 -Djava.awt.headless=true Main
    compile_command: /usr/bin/javac Main.java -encoding UTF8
    memory_limit_check_only: 1
  python2:
    src: main.py
    run_command: /usr/bin/python main.pyc
    compile_command: /usr/bin/python -m py_compile main.py
    memory_limit_check_only: 0
    seccomp_rule: general
  python3:
    src: main.py
    run_command: /usr/bin/python3 __pycache__/main.cpython-38.pyc
    compile_command: /usr/bin/python3 -m py_compile main.py
    memory_limit_check_only: 0
    seccomp_rule: general
  least-score-to-see-others-code: 1000
  notice: |
    C: gcc -DONLINE_JUDGE -fno-tree-ch -O2 -Wall -std=c99 main.c -lm -o main && ./main <br>
    CPP: g++ -DONLINE_JUDGE -fno-tree-ch -O2 -Wall -std=c++14 main.cpp -lm -o main && ./main <br>
    Java: javac Main.java -encoding UTF8 && java -Dfile.encoding=UTF-8 -Djava.awt.headless=true Main <br>
    python(3): python(3) main.py <br>
    go: go build main.go && ./main <br>

server:
  tomcat:
    max-threads: 2000
    max-connections: 2000
  servlet:
    session:
      timeout: 350m
